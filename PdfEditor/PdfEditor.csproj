<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <OutputType>WinExe</OutputType>
    <TargetFramework>net8.0</TargetFramework>
    <ImplicitUsings>enable</ImplicitUsings>
    <Nullable>enable</Nullable>
    <BuiltInComInteropSupport>true</BuiltInComInteropSupport>
    <AvaloniaUseCompiledBindingsByDefault>true</AvaloniaUseCompiledBindingsByDefault>
    <!-- Suppress platform-specific warnings for cross-platform PDF rendering -->
    <NoWarn>$(NoWarn);CA1416</NoWarn>
    <!-- Application Icon -->
    <ApplicationIcon>Assets\pdfe_logo.ico</ApplicationIcon>
  </PropertyGroup>

  <ItemGroup>
    <!-- Avalonia UI Framework (MIT License) -->
    <PackageReference Include="Avalonia" Version="11.2.5" />
    <PackageReference Include="Avalonia.Desktop" Version="11.2.5" />
    <PackageReference Include="Avalonia.Themes.Fluent" Version="11.2.5" />
    <PackageReference Include="Avalonia.Fonts.Inter" Version="11.2.5" />
    <PackageReference Include="Avalonia.ReactiveUI" Version="11.2.5" />
    <PackageReference Include="FluentAvaloniaUI" Version="2.4.1" />
    <PackageReference Include="FluentIcons.Avalonia.Fluent" Version="1.2.313" />
    <PackageReference Include="Microsoft.CodeAnalysis.CSharp.Scripting" Version="5.0.0" />

    <!-- PDF Libraries (Non-Copyleft) -->
    <PackageReference Include="PDFsharp" Version="6.2.2" /> <!-- MIT License -->
    <PackageReference Include="PdfPig" Version="0.1.11" />
    <PackageReference Include="PDFtoImage" Version="4.0.2" />
    <PackageReference Include="Portable.BouncyCastle" Version="1.9.0" /> <!-- MIT License -->
    <PackageReference Include="SkiaSharp" Version="2.88.9" /> <!-- MIT License -->

    <!-- MVVM and Utilities -->
    <PackageReference Include="ReactiveUI" Version="20.1.1" />
    <PackageReference Include="ReactiveUI.Fody" Version="19.5.41" />

    <!-- Logging Infrastructure -->
    <PackageReference Include="Microsoft.Extensions.Logging" Version="8.0.1" />
    <PackageReference Include="Microsoft.Extensions.Logging.Console" Version="8.0.1" />
    <PackageReference Include="Microsoft.Extensions.Logging.Debug" Version="8.0.1" />
    <PackageReference Include="Microsoft.Extensions.DependencyInjection" Version="8.0.1" />
    <PackageReference Include="Tesseract" Version="5.2.0" />
  </ItemGroup>

  <ItemGroup>
    <!-- Avalonia XAML Resources -->
    <AvaloniaResource Include="Styles\**\*.axaml" />
    <!-- Application Assets (icons, logos) -->
    <AvaloniaResource Include="Assets\*.png" />
    <AvaloniaResource Include="Assets\*.svg" />
  </ItemGroup>

  <ItemGroup>
    <!-- Include tessdata files in output if they exist -->
    <None Include="..\tessdata\*.traineddata" Condition="Exists('..\tessdata')">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
      <Link>tessdata\%(Filename)%(Extension)</Link>
    </None>
  </ItemGroup>

  <ItemGroup>
    <ProjectReference Include="..\PdfEditor.Redaction\PdfEditor.Redaction.csproj" />
    <ProjectReference Include="..\Pdfe.Core\Pdfe.Core.csproj" />
    <ProjectReference Include="..\Pdfe.Rendering\Pdfe.Rendering.csproj" />
  </ItemGroup>

</Project>
